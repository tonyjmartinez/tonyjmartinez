---
import ThemeToggle from "../interactive/ThemeToggle";

const navLinks = [
  { href: "/", label: "Home" },
  { href: "/blog", label: "Blog" },
  { href: "/resume", label: "Resume" },
];

const currentPath = Astro.url.pathname;
---

<header class="sticky top-0 z-40 border-b border-(--color-border) bg-(--color-surface)/80 backdrop-blur-md">
  <nav aria-label="Main navigation" class="mx-auto flex max-w-4xl items-center justify-between px-4 py-3">
    <a href="/" class="text-lg font-bold text-(--color-text-primary) hover:text-brand-600 transition-colors">
      Tony Martinez
    </a>

    <div class="flex items-center gap-1">
      {navLinks.map((link) => {
        const isActive = currentPath === link.href || (link.href !== "/" && currentPath.startsWith(link.href));
        return (
          <a
            href={link.href}
            class:list={[
              "rounded-lg px-3 py-2 text-sm font-medium transition-colors",
              isActive
                ? "bg-(--color-surface-raised) text-(--color-text-primary)"
                : "text-(--color-text-secondary) hover:text-(--color-text-primary) hover:bg-(--color-surface-raised)",
            ]}
            aria-current={isActive ? "page" : undefined}
          >
            {link.label}
          </a>
        );
      })}
      <ThemeToggle client:load />
    </div>
  </nav>
</header>
